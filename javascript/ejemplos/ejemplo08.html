<!DOCTYPE html>

<!--fig. 7.9: promedio2.html-->
<!--repeticion controlada por centinela para calcular el promedio de una clase-->
<html>
    <head>
        <meta charset="UTF-8">
        <title>Programa del promedio de una clase: repetición controlada por centinela</title>
        <script>

            var total; //suma de calificaciones
            var contadorCalificaciones; //numero de calificaciones introducidas
            var calificacion; //calificacion escrita por el usuario (como cadena)
            var valorCalificacion; //valor de la calificacion (convertido a entero)
            var promedio; //promedio de todas las calificacion

            //fase de inicializacion
            total = 0; //borrar total
            contadorCalificaciones = 0; //preparar para iterar

            //fase de procesamiento
            //pedir la entrada y leer la calificacion para iterar
            calificacion = window.prompt(
                "Escriba la calificación entera, -1 para salir:", "0");
            
            //convertir calificacion de cadena en entero
            valorCalificacion = parseInt(calificacion);

            while (valorCalificacion != -1){

                //sumar valorCalificacion al total
                total = total + valorCalificacion;

                //sumar 1 a contadorCalificaciones
                contadorCalificaciones = contadorCalificaciones + 1;

                //pedir la entrada y leer calificacion del usuario
                calificacion = window.prompt(
                    "Escriba la calificación entera, -1 para salir:", "0");
                
                //convertir calificacion de cadena en entero
                valorCalificacion = parseInt(calificacion);
            } //fin de while

            //fase de terminacion
            if (contadorCalificaciones != 0){

                promedio = total / contadorCalificaciones;

                //muestra el promedio de las calificaciones de los examenes
                document.writeln(
                    "<h1>El promedio de la clase es " + promedio + "</h1>");
            } //fin de if
            else{
                document.writeln("<p>No se introdujeron calificaciones</p>");
            }
        </script>
    </head>
    <body>
    
    </body>
</html>